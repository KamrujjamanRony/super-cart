<!-- shopping-cart.component.html -->
<section class="flex flex-col xl:flex-row gap-2">
  <div class="gap-2 grid grid-cols-1">
    <!-- single cart -->
    @for(product of sortedCarts(carts); track product.id){
    <app-single-cart
      [product]="product"
      [userCarts]="userCarts"
      (cartUpdated)="updateCartAfterChange($event)"
    ></app-single-cart>
    } @empty {
    <div class="text-center text-gray-800 text-xl">No products found.</div>
    }
    <div class="w-full h-1 bg-white rounded"></div>
    <div class="flex flex-col items-end gap-2">
      <h3 class="text-lg">
        Total ({{ totalQuantity }} items):
        <span class="font-bold">{{ totalPrice | bdt }}</span>
      </h3>
      <!-- <h3 class="text-lg">
        Delivery Charge:
        <span class="font-bold">${{ deliveryCharge | bdt }}</span>
      </h3> -->
      <!-- <h3 class="text-xl">
        Total:
        <span class="font-bold">${{ totalPriceWithDelivery | bdt }}</span>
      </h3> -->
    </div>
    <!-- single cart end -->
  </div>
  @if (carts.length > 0) {
  <div class="border rounded bg-white w-full md:w-96 p-5 h-fit">
    <div class="flex flex-col gap-2 mb-4">
      <h3 class="text-lg">
        Total ({{ totalQuantity }} items):
        <span class="font-bold">{{ totalPrice | bdt }}</span>
      </h3>
      <!-- <h3 class="text-lg">
        Delivery Charge:
        <span class="font-bold">${{ deliveryCharge | bdt }}</span>
      </h3> -->
      <!-- <h3 class="text-xl">
        Total:
        <span class="font-bold">${{ totalPriceWithDelivery | bdt }}</span>
      </h3> -->
    </div>
    <button
      (click)="proceedToCheckout()"
      class="cursor-pointer px-4 py-2 text-center text-gray-50 bg-rose-500 border border-rose-500 rounded-full hover:bg-transparent hover:text-primary transition capitalize font-roboto font-medium w-full"
    >
      Proceed to checkout
    </button>
  </div>
  }
</section>
